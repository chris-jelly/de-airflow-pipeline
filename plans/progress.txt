## 2026-01-31 - US-007
- Implemented `k3d/scripts/airflow-verify.sh` to validate Airflow deployment and DAG discovery.
- Updated `k3d/values-airflow.yaml` to enable Basic Auth for API and fix `hostPath` volume mounts (moved to component sections).
- Fixed `dags/salesforce/salesforce_extraction_dag.py` to use safe top-level imports (Lazy Import Pattern) and fixed `PythonOperator` import.
- Added `dags/.airflowignore` to exclude `.venv` from DAG parsing.
- Verified Airflow UI is accessible at `http://localhost:30080` and DAGs are loaded via API.
- Files changed: `k3d/scripts/airflow-verify.sh`, `k3d/values-airflow.yaml`, `dags/salesforce/salesforce_extraction_dag.py`, `dags/.airflowignore`, `k3d/AGENTS.md`.
- **Learnings for future iterations:**
  - `hostPath` mounts in Airflow Chart 1.12.0 must be specified under each component (`scheduler`, `webserver`, `triggerer`).
  - `pandas` is not available in the default Airflow Scheduler image; imports must be deferred to task execution.
  - The API defaults to `session` auth; `basic_auth` must be explicitly added to `auth_backends`.
  - `.airflowignore` uses Regex syntax (e.g., `\.venv`) and is essential for local dev with mounted venvs.
  - `SalesforceHook` arguments in the codebase seem custom or incorrect for standard provider; might need review later (ignored for verification).
---
